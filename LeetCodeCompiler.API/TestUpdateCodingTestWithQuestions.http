### Test Update Coding Test API with Question Updates
### This file contains HTTP requests to test the updated PUT /api/CodingTest endpoint with question update functionality

### 1. Update coding test basic properties only (no questions)
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "testName": "Updated Advanced Programming Test",
  "description": "Updated description for the test",
  "durationMinutes": 150,
  "totalMarks": 120,
  "isActive": true,
  "isPublished": false
}

### 2. Update coding test with question modifications
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "testName": "Updated Test with Question Changes",
  "durationMinutes": 180,
  "totalMarks": 100,
  "questions": [
    {
      "id": 1,
      "problemId": 6,
      "questionOrder": 1,
      "marks": 25,
      "timeLimitMinutes": 45,
      "customInstructions": "Updated instructions for Two Sum problem"
    },
    {
      "id": 2,
      "problemId": 7,
      "questionOrder": 2,
      "marks": 35,
      "timeLimitMinutes": 60,
      "customInstructions": "Updated instructions for Add Two Numbers problem"
    }
  ]
}

### 3. Add new questions to existing test
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "questions": [
    {
      "problemId": 8,
      "questionOrder": 3,
      "marks": 30,
      "timeLimitMinutes": 50,
      "customInstructions": "New question added to the test"
    },
    {
      "problemId": 9,
      "questionOrder": 4,
      "marks": 20,
      "timeLimitMinutes": 30,
      "customInstructions": "Another new question"
    }
  ]
}

### 4. Remove questions from test
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "questions": [
    {
      "id": 1,
      "isDeleted": true
    },
    {
      "id": 2,
      "isDeleted": true
    }
  ]
}

### 5. Mixed operations: Update existing, add new, and remove questions
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "testName": "Comprehensive Question Update Test",
  "totalMarks": 150,
  "questions": [
    {
      "id": 1,
      "problemId": 6,
      "questionOrder": 1,
      "marks": 30,
      "timeLimitMinutes": 40,
      "customInstructions": "Updated Two Sum with new instructions"
    },
    {
      "id": 2,
      "isDeleted": true
    },
    {
      "problemId": 10,
      "questionOrder": 2,
      "marks": 40,
      "timeLimitMinutes": 60,
      "customInstructions": "New problem added to replace deleted one"
    },
    {
      "id": 3,
      "problemId": 7,
      "questionOrder": 3,
      "marks": 50,
      "timeLimitMinutes": 70,
      "customInstructions": "Updated Add Two Numbers with higher marks"
    }
  ]
}

### 6. Update only question order and marks
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "questions": [
    {
      "id": 1,
      "questionOrder": 2,
      "marks": 35
    },
    {
      "id": 2,
      "questionOrder": 1,
      "marks": 25
    },
    {
      "id": 3,
      "questionOrder": 3,
      "marks": 40
    }
  ]
}

### 7. Update with partial question data (only some fields)
PUT {{host}}/api/CodingTest
Content-Type: application/json

{
  "id": 1000019,
  "questions": [
    {
      "id": 1,
      "marks": 50
    },
    {
      "id": 2,
      "timeLimitMinutes": 90
    },
    {
      "id": 3,
      "customInstructions": "Only updating instructions for this question"
    }
  ]
}

### Expected Response Structure:
### {
###   "id": 1000019,
###   "testName": "Updated Test with Question Changes",
###   "description": "Updated description for the test",
###   "startDate": "2024-01-01T09:00:00Z",
###   "endDate": "2024-01-01T12:00:00Z",
###   "durationMinutes": 180,
###   "totalMarks": 100,
###   "totalQuestions": 2,
###   "isActive": true,
###   "isPublished": false,
###   "testType": 1,
###   "allowMultipleAttempts": true,
###   "maxAttempts": 3,
###   "showResultsImmediately": false,
###   "allowCodeReview": true,
###   "accessCode": "TEST123",
###   "tags": "programming,algorithms",
###   "createdAt": "2024-01-01T08:00:00Z",
###   "updatedAt": "2024-01-01T10:30:00Z",
###   "questions": [
###     {
###       "id": 1,
###       "codingTestId": 1000019,
###       "problemId": 6,
###       "questionOrder": 1,
###       "marks": 25,
###       "timeLimitMinutes": 45,
###       "customInstructions": "Updated instructions for Two Sum problem",
###       "createdAt": "2024-01-01T08:00:00Z",
###       "problem": {
###         "id": 6,
###         "title": "Two Sum",
###         "description": "Given an array of integers nums and an integer target...",
###         "examples": "Input: nums = [2,7,11,15], target = 9\nOutput: [0,1]...",
###         "constraints": "2 ≤ nums.length ≤ 10⁴...",
###         "difficulty": "Easy"
###       }
###     },
###     {
###       "id": 2,
###       "codingTestId": 1000019,
###       "problemId": 7,
###       "questionOrder": 2,
###       "marks": 35,
###       "timeLimitMinutes": 60,
###       "customInstructions": "Updated instructions for Add Two Numbers problem",
###       "createdAt": "2024-01-01T08:00:00Z",
###       "problem": {
###         "id": 7,
###         "title": "Add Two Numbers",
###         "description": "You are given two non-empty linked lists...",
###         "examples": "Input: l1 = [2,4,3], l2 = [5,6,4]\nOutput: [7,0,8]...",
###         "constraints": "The number of nodes in each linked list...",
###         "difficulty": "Medium"
###       }
###     }
###   ]
### }

### Variables (set these in your environment or replace with actual values)
@host = https://localhost:7001
