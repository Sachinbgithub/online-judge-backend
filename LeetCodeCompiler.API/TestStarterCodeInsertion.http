### Test Starter Code Insertion API

### Prerequisites: Create domains, subdomains, and problems first
### 1. Create a domain
POST {{baseUrl}}/api/Domain
Content-Type: application/json

{
  "domainName": "Data Structures"
}

### 2. Create a subdomain
POST {{baseUrl}}/api/Subdomain
Content-Type: application/json

{
  "domainId": 1,
  "subdomainName": "Arrays"
}

### 3. Create a problem
POST {{baseUrl}}/api/Problems
Content-Type: application/json

{
  "title": "Two Sum",
  "description": "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.",
  "examples": "Input: nums = [2,7,11,15], target = 9\nOutput: [0,1]",
  "constraints": "2 ≤ nums.length ≤ 10⁴",
  "difficulty": 1
}

### 4. Get all problems to see the created problem ID
GET {{baseUrl}}/api/Problems

### Starter Code Insertion Tests

### 5. Create Python starter code for problem (assuming problemId = 1)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 1,
  "code": "def twoSum(nums, target):\n    # Your code here\n    pass"
}

### 6. Create JavaScript starter code for the same problem
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 3,
  "code": "function twoSum(nums, target) {\n    // Your code here\n    return [];\n}"
}

### 7. Create Java starter code for the same problem
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 2,
  "code": "class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        // Your code here\n        return new int[0];\n    }\n}"
}

### 8. Create C++ starter code for the same problem
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": "cpp",
  "code": "#include <vector>\nusing namespace std;\n\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) {\n        // Your code here\n        return {};\n    }\n};"
}

### 9. Create another problem for testing
POST {{baseUrl}}/api/Problems
Content-Type: application/json

{
  "title": "Reverse String",
  "description": "Write a function that reverses a string.",
  "examples": "Input: s = [\"h\",\"e\",\"l\",\"l\",\"o\"]\nOutput: [\"o\",\"l\",\"l\",\"e\",\"h\"]",
  "constraints": "1 ≤ s.length ≤ 10⁵",
  "difficulty": 1
}

### 10. Create Python starter code for the second problem (assuming problemId = 2)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 2,
  "language": 1,
  "code": "def reverseString(s):\n    # Your code here\n    pass"
}

### Error Cases

### 11. Try to create starter code with empty code (should return 400 Bad Request)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 1,
  "code": ""
}

### 12. Try to create starter code with invalid language (should return 400 Bad Request)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 15,
  "code": "def test():\n    pass"
}

### 13. Try to create starter code with non-existent problem (should return 404 Not Found)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 999,
  "language": 1,
  "code": "def test():\n    pass"
}

### 14. Try to create duplicate starter code for same problem and language (should return 409 Conflict)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 1,
  "language": 1,
  "code": "def twoSum(nums, target):\n    # Different implementation\n    return [0, 1]"
}

### 15. Try to create starter code with invalid problem ID (should return 400 Bad Request)
POST {{baseUrl}}/api/StarterCode
Content-Type: application/json

{
  "problemId": 0,
  "language": 1,
  "code": "def test():\n    pass"
}

### Verification Tests

### 16. Get all starter codes
GET {{baseUrl}}/api/StarterCode

### 17. Get starter codes by problem ID (Two Sum)
GET {{baseUrl}}/api/StarterCode/problem/1

### 18. Get starter codes by problem ID (Reverse String)
GET {{baseUrl}}/api/StarterCode/problem/2

### 19. Get specific starter code by ID
GET {{baseUrl}}/api/StarterCode/1

### Update Tests

### 20. Update starter code (Python for Two Sum)
PUT {{baseUrl}}/api/StarterCode/1
Content-Type: application/json

{
  "language": 1,
  "code": "def twoSum(nums, target):\n    # Updated implementation\n    for i in range(len(nums)):\n        for j in range(i + 1, len(nums)):\n            if nums[i] + nums[j] == target:\n                return [i, j]\n    return []"
}

### 21. Try to update to duplicate language for same problem (should return 409 Conflict)
PUT {{baseUrl}}/api/StarterCode/1
Content-Type: application/json

{
  "language": 3,
  "code": "def twoSum(nums, target):\n    # This should conflict with existing JavaScript starter code\n    pass"
}

### Delete Tests

### 22. Delete a starter code
DELETE {{baseUrl}}/api/StarterCode/4

### 23. Try to delete non-existent starter code (should return 404 Not Found)
DELETE {{baseUrl}}/api/StarterCode/999

### 24. Get all starter codes after deletion
GET {{baseUrl}}/api/StarterCode

### Language Reference (for reference)
### 1 = Python
### 2 = JavaScript
### 3 = Java
### 4 = C++
### 5 = C
### 6 = C#
### 7 = Go
### 8 = Rust
### 9 = Swift
### 10 = Kotlin

### Variables
@baseUrl = http://localhost:5081
